# LLMを使って実装とドキュメントの不一致を検出する実験

実装ファイルと、その説明ドキュメントをLLMに渡して、矛盾を指摘してもらう実験。

## フォルダ構成
- correct/
  - 実装とドキュメントに矛盾のないソフトウェアが格納されている。実装1ファイル、ドキュメント1ファイル
- incorrect/
  - 実装とドキュメントに矛盾のあるソフトウェアが格納されている。実装1ファイル、ドキュメント1ファイル
- メインプログラム
  - 起動時に、引数でチェック対象のファイルを受け取る
  - 矛盾点があれば、`ファイル1,ファイル2:矛盾内容` というフォーマットで、1行1矛盾点として標準出力に書き出す
  - 矛盾がなければexit 0、矛盾があればexit 1

## 使用方法

```bash
# ビルドする
go build -o check_differences

# 実行する
./check_differences <実装ファイル> <ドキュメントファイル>
```

環境変数:
- `LLM_MODE=mock`: モックモードで実行（デフォルト）
- `LLM_MODE=openai`: OpenAI APIを使用してLLM分析を行う
- `OPENAI_API_KEY`: OpenAI APIを使用する際に必要なAPIキー

## メタテスト

プログラムが正しく動作するかを検証するためのメタテストも提供しています。

```bash
# メタテストを実行
node run_meta_test.js
```

メタテストでは以下のテストを行います：

1. **mockモードでのテスト**
   - correct/フォルダの実装とドキュメントで矛盾なしを検証
   - incorrect/フォルダの実装とドキュメントで矛盾ありを検証

2. **openaiモードでのテスト** (OPENAI_API_KEYが設定されている場合のみ)
   - correct/フォルダの実装とドキュメントで矛盾なしを検証
   - incorrect/フォルダの実装とドキュメントで矛盾ありを検証

各テストケースで期待される結果と実際の結果が一致した場合のみ、メタテストは成功（exit 0）となります。
テスト結果のサマリーも表示されるため、どのテストケースが成功・失敗したかが一目でわかります。